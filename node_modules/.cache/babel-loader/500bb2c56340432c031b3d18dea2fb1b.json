{"ast":null,"code":"import _slicedToArray from \"/Users/rizki/Documents/work/dashboard-erik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rizki/Documents/work/dashboard-erik/src/views/StokBarang/StokBarang.jsx\";\nimport React, { forwardRef, createRef } from 'react';\nimport MaterialTable from 'material-table';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Refresh from '@material-ui/icons/Refresh';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport DashboardLayout from 'layouts/Dashboard';\nimport { withStyles } from '@material-ui/core/styles';\nimport AddBarang from './Components/AddBarang';\nvar tableIcons = {\n  Add: forwardRef(function (props, ref) {\n    return React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }));\n  }),\n  Check: forwardRef(function (props, ref) {\n    return React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }));\n  }),\n  Clear: forwardRef(function (props, ref) {\n    return React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }));\n  }),\n  Delete: forwardRef(function (props, ref) {\n    return React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }));\n  }),\n  DetailPanel: forwardRef(function (props, ref) {\n    return React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }));\n  }),\n  Edit: forwardRef(function (props, ref) {\n    return React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }));\n  }),\n  Export: forwardRef(function (props, ref) {\n    return React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }));\n  }),\n  Filter: forwardRef(function (props, ref) {\n    return React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  }),\n  FirstPage: forwardRef(function (props, ref) {\n    return React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }));\n  }),\n  LastPage: forwardRef(function (props, ref) {\n    return React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }));\n  }),\n  NextPage: forwardRef(function (props, ref) {\n    return React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }));\n  }),\n  PreviousPage: forwardRef(function (props, ref) {\n    return React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  }),\n  Refresh: forwardRef(function (props, ref) {\n    return React.createElement(Refresh, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }));\n  }),\n  ResetSearch: forwardRef(function (props, ref) {\n    return React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }),\n  Search: forwardRef(function (props, ref) {\n    return React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }));\n  }),\n  SortArrow: forwardRef(function (props, ref) {\n    return React.createElement(ArrowUpward, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  }),\n  ThirdStateCheck: forwardRef(function (props, ref) {\n    return React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }),\n  ViewColumn: forwardRef(function (props, ref) {\n    return React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }));\n  })\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      padding: theme.spacing.unit * 4\n    },\n    item: {\n      height: '100%'\n    }\n  };\n};\n\nvar StokBarang = function StokBarang(props) {\n  var tableRef = createRef();\n  var classes = props.classes;\n\n  var _React$useState = React.useState({\n    columns: [{\n      title: 'Kode Barang',\n      field: 'kode_barang'\n    }, {\n      title: 'Nama Barang',\n      field: 'nama_barang'\n    }, {\n      title: 'Tipe',\n      field: 'tipe'\n    }, {\n      title: 'Accept',\n      field: 'accept'\n    }, {\n      title: 'Rejects',\n      field: 'rejects'\n    }, {\n      title: 'Harga',\n      field: 'harga',\n      type: 'currency'\n    }]\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      state = _React$useState2[0];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      openAdd = _React$useState4[0],\n      setOpenAdd = _React$useState4[1];\n\n  var modalAdd = function modalAdd(func) {\n    return setOpenAdd(!openAdd);\n  };\n\n  var refreshData = function refreshData() {\n    tableRef.current && tableRef.current.onQueryChange();\n  };\n\n  var getData = function getData() {\n    return function (query) {\n      return new Promise(function (resolve, reject) {\n        fetch(\"http://localhost:8001/api/barang\" + \"?limit=\".concat(query.pageSize, \"&page=\").concat(query.page + 1, \"&search=\").concat(query.search)).then(function (res) {\n          return res.json();\n        }).then(function (result) {\n          resolve({\n            data: result[0].data,\n            // your data array\n            page: result[0].page - 1,\n            // current page number\n            totalCount: result[0].total // total value\n\n          });\n        });\n      });\n    };\n  };\n\n  var addData = function addData(item) {\n    return fetch(\"http://localhost:8001/api/barang\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      refreshData();\n    });\n  };\n\n  return React.createElement(DashboardLayout, {\n    title: \"Data PO\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, openAdd && React.createElement(AddBarang, {\n    openAdd: openAdd,\n    modalAdd: modalAdd,\n    addFunc: addData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(MaterialTable, {\n    title: \"Editable Example\",\n    icons: tableIcons,\n    columns: state.columns,\n    data: getData(),\n    actions: [{\n      icon: tableIcons.Add,\n      tooltip: 'Add',\n      isFreeAction: true,\n      onClick: function onClick() {\n        return modalAdd(refreshData);\n      }\n    }, function (rowData) {\n      return {\n        icon: tableIcons.Edit,\n        tooltip: 'Edit',\n        isFreeAction: true,\n        onClick: function onClick() {}\n      };\n    }, {\n      icon: tableIcons.Refresh,\n      tooltip: 'Refresh',\n      isFreeAction: true,\n      onClick: function onClick() {}\n    }],\n    editable: {\n      onRowDelete: function onRowDelete() {}\n    },\n    options: {\n      actionsColumnIndex: -1,\n      exportButton: true,\n      paginationType: 'stepped',\n      pageSize: 10,\n      pageSizeOptions: [10, 25, 50],\n      debounceInterval: 0,\n      exportAllData: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })));\n};\n\nexport default withStyles(styles)(StokBarang);","map":{"version":3,"sources":["/Users/rizki/Documents/work/dashboard-erik/src/views/StokBarang/StokBarang.jsx"],"names":["React","forwardRef","createRef","MaterialTable","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Refresh","Remove","SaveAlt","Search","ViewColumn","DashboardLayout","withStyles","AddBarang","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","styles","theme","root","padding","spacing","unit","item","height","StokBarang","tableRef","classes","useState","columns","title","field","type","state","openAdd","setOpenAdd","modalAdd","func","refreshData","current","onQueryChange","getData","query","Promise","resolve","reject","fetch","pageSize","page","search","then","res","json","result","data","totalCount","total","addData","method","headers","body","JSON","stringify","icon","tooltip","isFreeAction","onClick","rowData","onRowDelete","actionsColumnIndex","exportButton","paginationType","pageSizeOptions","debounceInterval","exportAllData"],"mappings":"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","sourcesContent":["import React, { forwardRef, createRef } from 'react'\nimport MaterialTable from 'material-table';\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Refresh from '@material-ui/icons/Refresh';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\n\nimport DashboardLayout from 'layouts/Dashboard';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport AddBarang from './Components/AddBarang'\n\nconst tableIcons = {\n   Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n   Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n   Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n   Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n   DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n   Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n   Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n   Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n   FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n   LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n   NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n   PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n   Refresh: forwardRef((props, ref) => <Refresh {...props} ref={ref} />),\n   ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n   Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n   SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n   ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n   ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n\nconst styles = theme => ({\n   root: {\n      padding: theme.spacing.unit * 4\n   },\n   item: {\n      height: '100%'\n   }\n});\n\nconst StokBarang = (props) => {\n   const tableRef = createRef();\n   const { classes } = props;\n\n   const [state] = React.useState({\n      columns: [\n         { title: 'Kode Barang', field: 'kode_barang' },\n         { title: 'Nama Barang', field: 'nama_barang' },\n         { title: 'Tipe', field: 'tipe' },\n         { title: 'Accept', field: 'accept' },\n         { title: 'Rejects', field: 'rejects' },\n         { title: 'Harga', field: 'harga', type: 'currency' }\n      ]\n   });\n\n   const [openAdd, setOpenAdd] = React.useState(false)\n   const modalAdd = (func) => setOpenAdd(!openAdd)\n\n   const refreshData = () => {\n      tableRef.current && tableRef.current.onQueryChange()\n   }\n\n   const getData = () => {\n      return query =>\n         new Promise((resolve, reject) => {\n            fetch(\"http://localhost:8001/api/barang\" + `?limit=${query.pageSize}&page=${query.page + 1}&search=${query.search}`)\n               .then(res => res.json())\n               .then(result => {\n                  resolve({\n                     data: result[0].data, // your data array\n                     page: result[0].page - 1, // current page number\n                     totalCount: result[0].total // total value\n                  })\n               })\n         })\n   }\n\n   const addData = item => {\n      return fetch(\"http://localhost:8001/api/barang\", {\n         method: 'POST',\n         headers: {\n            'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(item)\n      })\n         .then(res => res.json())\n         .then(result => {\n            refreshData()\n            \n         })\n   }\n\n   return (\n      <DashboardLayout title=\"Data PO\">\n         <div className={classes.root}>\n            {openAdd &&\n               <AddBarang\n                  openAdd={openAdd}\n                  modalAdd={modalAdd}\n                  addFunc={addData}\n               />\n            }\n            <MaterialTable\n               title=\"Editable Example\"\n               icons={tableIcons}\n               columns={state.columns}\n               data={getData()}\n               actions={[\n                  {\n                     icon: tableIcons.Add,\n                     tooltip: 'Add',\n                     isFreeAction: true,\n                     onClick: () => modalAdd(refreshData)\n                  },\n                  rowData => ({\n                     icon: tableIcons.Edit,\n                     tooltip: 'Edit',\n                     isFreeAction: true,\n                     onClick: () => { }\n                  }),\n                  {\n                     icon: tableIcons.Refresh,\n                     tooltip: 'Refresh',\n                     isFreeAction: true,\n                     onClick: () => { }\n                  }\n               ]}\n               editable={{\n                  onRowDelete: () => { }\n               }}\n               options={{\n                  actionsColumnIndex: -1,\n                  exportButton: true,\n                  paginationType: 'stepped',\n                  pageSize: 10,\n                  pageSizeOptions: [10, 25, 50],\n                  debounceInterval: 0,\n                  exportAllData: true\n               }}\n            />\n         </div>\n      </DashboardLayout>\n   )\n}\n\nexport default withStyles(styles)(StokBarang);\n"]},"metadata":{},"sourceType":"module"}